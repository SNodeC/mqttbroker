{
    "connection" : {
        "keep_alive" : 60,
        "client_id" : "Client",
        "clean_session" : true,
        "will_topic" : "will/topic",
        "will_message" : "Last Will",
        "will_qos": 0,
        "will_retain" : false,
        "username" : "Username",
        "password" : "Password"
    },
    "mappings" : {
        "discover_prefix" : "iotempower",
        "topic_level" : {
            "name" : "test01",
            "topic_level" : {
                "subscribtion" : {
                    "qos" : 2
                },
                "name" : "button1",
                "type" : "binary_sensor",
                "mapping": {
                    "Comment" : "Either a \"static\", \"value\", or \"json\" object is required! E.g. next three objects. Exclusive order of interpretation: \"static\", \"value\", \"json\"",
                    "static1" : {
                        "command_topic" : "test02/onboard/set",
                        "retain_message" : false,
                        "message_mappings" : [
                        {
                            "message" : "pressed",
                            "mapped_message" : "on"
                        },
                        {
                            "message" : "released",
                            "mapped_message" : "off"
                        }
                        ]
                    },
                    "value" : {
                        "command_topic" : "test02/onboard/set",
                        "retain_message" : false,
                        "mapping_template" : "{% if value == \"pressed\" %}on{% else if value == \"released\" %}off{% endif %}"
                    },
                    "json" : {
                        "command_topic" : "test02/onboard/set",
                        "retain_message" : false,
                        "mapping_template" : "{{ json.time.start }} to {{ json.time.end + 1 }}pm"
                    },
                    "The next objects are ignored" : "Listed only for documentation",
                    "value | Comment: An array of \"value\" objects is also allowed for multi-mapping. E.g.:" : [
                        {
                            "command_topic" : "aCommandTopic",
                            "retain_message" : false,
                            "mapping_template" : "aStateTemplate"
                        },
                        {
                            "command_topic" : "anOtherCommandTopic",
                            "retain_message" : false,
                            "mapping_template" : "anOtherStateTemplate"
                        }

                    ],
                    "json | Comment: An array of \"json\" objects is also allowed for multi-mapping. E.g.:" : [
                        {
                            "command_topic" : "aCommandTopic",
                            "retain_message" : false,
                            "mapping_template" : "aStateTemplate"
                        },
                        {
                            "command_topic" : "anOtherCommandTopic",
                            "retain_message" : false,
                            "mapping_template" : "anOtherStateThemplate"
                        }
                    ]
                },
                "topic_level" : {
                    "name" : "someothertopiclevelname",
                    "type" : "binary_sensor",
                    "subscribtion" : {
                        "qos" : 1
                    },
                    "mapping" : {
                        "static" : {
                            "command_topic" : "some/other/topic/set",
                            "message_mappings" : [
                            {
                                "message" : "pressed",
                                "mapped_message" : "on"
                            },
                            {
                                "message" : "released",
                                "mapped_message" : "off"
                            }
                            ]
                        }
                    }
                }
            }
        }
    }
}

